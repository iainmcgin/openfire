<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">

<h1>XFire Protocol Specification</h1>

<h2>Message Types</h2>

<table>
	<tr>
		<th>Message ID</th>
		<th>Description</th>
		<th>To Server</th>
		<th>From Server</th>
		<th>From Peer (UDP)</th>
	</tr>
	<tr><td><a href="#msg1">1</a></td><td>Login request</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg2">2</a></td><td>Chat message</td><td>Y</td><td>N</td><td>Y</td></tr>
	<tr><td><a href="#msg3">3</a></td><td>Client version</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg5">5</a></td><td>Friends of online friend request</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg6">6</a></td><td>Outgoing friend invitation</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg7">7</a></td><td>Accept Invitation</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg8">8</a></td><td>Reject Invitation</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg12">12</a></td><td>User lookup</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg13">13</a></td><td>Connection keepalive</td><td>Y</td><td>N</td><td>N</td></tr>
	<tr><td><a href="#msg16">16</a></td><td>Client configuration</td><td>Y</td><td>N</td><td>N</td></tr>	
	<tr><td><a href="#msg18">18</a></td><td>Client information</td><td>Y</td><td>N</td><td>N</td></tr>

	<tr><td><a href="#msg128">128</a></td><td>Login challenge</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg129">129</a></td><td>Login failure</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg130">130</a></td><td>Login success</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg131">131</a></td><td>Friend list</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg132">132</a></td><td>Session ID list</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg133">133</a></td><td>Server routed chat message</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg134">134</a></td><td>New version available</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg135">135</a></td><td>Friend game information</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg136">136</a></td><td>Friends of friends</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg137">137</a></td><td>Outgoing friend invitation result</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg138">138</a></td><td>Incoming friend invitation</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg141">141</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg143">143</a></td><td>User lookup results</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg147">147</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg148">148</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg154">154</a></td><td>Friend status</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg151">151</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg152">152</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg155">155</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg151">157</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg163">163</a></td><td>???</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg400">400</a></td><td>DID (?)</td><td>N</td><td>Y</td><td>N</td></tr>
	<tr><td><a href="#msg450">450</a></td><td>Channel information (?)</td><td>N</td><td>Y</td><td>N</td></tr>
</table>

<h3><a name="msg1">Login Request Message</a></h3>
<h3><a name="msg2">Chat Message</a></h3>
<h3><a name="msg3">Client version Message</a></h3>
<h3><a name="msg5">Friends of Online Friend Request Message</a></h3>
<h3><a name="msg6">Outgoing Friend Invitation Message</a></h3>
<h3><a name="msg7">Accept Invitation Message</a></h3>
<h3><a name="msg8">Reject Invitation Message</a></h3>
<h3><a name="msg12">User Lookup Message</a></h3>
<h3><a name="msg13">Connection Keepalive Message</a></h3>
<h3><a name="msg16">Client Configuration Message</a></h3>
<h3><a name="msg18">Client Information Message</a></h3>

<h3><a name="msg128">Login Challenge Message</a></h3>
<h3><a name="msg129">Login Failure Message</a></h3>
<h3><a name="msg130">Login Success Message</a></h3>
<h3><a name="msg131">Friend List Message</a></h3>
<h3><a name="msg132">Session ID List Message</a></h3>
<h3><a name="msg133">Server Routed Chat Message</a></h3>
<h3><a name="msg134">New Version Available Message</a></h3>
<h3><a name="msg135">Friend Game Information Message</a></h3>
<h3><a name="msg136">Friends of Friends Message</a></h3>
<h3><a name="msg138">Incoming Friend Invitation Message</a></h3>
<h3><a name="msg154">Friend Status Message</a></h3>
<h3><a name="msg400">DID Message</a></h3>

</html>